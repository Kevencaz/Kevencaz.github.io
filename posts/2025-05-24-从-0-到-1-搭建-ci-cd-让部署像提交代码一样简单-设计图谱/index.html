<!DOCTYPE html><html lang="zh-CN"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="description" content="Technology Stack"><title>ä» 0 åˆ° 1 æ­å»º CI/CDï¼šè®©éƒ¨ç½²åƒæäº¤ä»£ç ä¸€æ ·ç®€å•ï½œè®¾è®¡å›¾è°± | Mystwood</title><link rel="icon" type="image/x-icon" href="/favicon.ico"><link rel="stylesheet" href="/styles/global.css"><link rel="stylesheet" href="/_astro/Gitalk.B4AMVcrv.css">
<style>#gitalk-container{margin-top:60px;padding:20px;background:#0a0e1799;border:1px solid rgba(0,240,255,.2);border-radius:8px}.gt-container{color:#e0e0e0!important}.gt-container .gt-header-textarea{background:#0a0e17cc!important;border:1px solid rgba(0,240,255,.3)!important;color:#e0e0e0!important}.gt-container .gt-header-textarea:focus{border-color:var(--primary)!important;box-shadow:0 0 10px #00f0ff4d!important}.gt-container .gt-btn{background:linear-gradient(135deg,var(--primary),var(--primary-dark))!important;border:none!important;color:#fff!important;transition:all .3s ease!important}.gt-container .gt-btn:hover{box-shadow:0 0 15px #00f0ff80!important;transform:translateY(-2px)}.gt-container .gt-btn-preview{background:#b44aff33!important;border:1px solid rgba(180,74,255,.5)!important;color:var(--secondary)!important}.gt-container .gt-comment-content{background:#0a0e1799!important;border:1px solid rgba(0,240,255,.1)!important;color:#e0e0e0!important}.gt-container .gt-comment-content:hover{box-shadow:0 0 10px #00f0ff33!important}.gt-container a{color:var(--primary)!important}.gt-container a:hover{color:var(--secondary)!important}.gt-container .gt-comment-username{color:var(--primary)!important;font-weight:600!important}.gt-container .gt-comment-date{color:#888!important}.gt-container .gt-svg svg{fill:var(--primary)!important}.gt-container .gt-comment-admin .gt-comment-content{border-left:3px solid var(--primary)!important}
</style></head> <body> <div class="reading-progress" id="reading-progress"></div> <script type="module">const n=document.getElementById("reading-progress");n&&window.addEventListener("scroll",()=>{const e=document.documentElement.scrollHeight-window.innerHeight,t=e>0?window.scrollY/e*100:0;n.style.width=`${t}%`});</script> <div class="layout"> <aside class="sidebar"> <div class="sidebar-inner"> <div class="site-author"> <a href="/"> <img class="avatar" src="/images/header.png" alt="Keven" width="96" height="96"> </a> <h2 class="author-name">Keven</h2> <p class="site-subtitle" id="typing-subtitle"></p> </div> <nav class="site-nav"> <a href="/" class="nav-item"> <span class="nav-icon">ğŸ </span> <span>é¦–é¡µ</span> </a><a href="/archives/" class="nav-item"> <span class="nav-icon">ğŸ“¦</span> <span>å½’æ¡£</span> </a><a href="/tags/" class="nav-item"> <span class="nav-icon">ğŸ·ï¸</span> <span>æ ‡ç­¾</span> </a><a href="/categories/" class="nav-item"> <span class="nav-icon">ğŸ“‚</span> <span>åˆ†ç±»</span> </a><a href="/games/" class="nav-item"> <span class="nav-icon">ğŸ®</span> <span>å°æ¸¸æˆ</span> </a> </nav> <div class="sidebar-footer"> <a href="https://github.com/Kevencaz" target="_blank" rel="noopener" class="github-link">
GitHub â†—
</a> </div> </div> </aside> <div class="main-wrapper"> <main class="main-content">  <article class="post-detail"> <header class="post-header"> <h1 class="post-title" style="background:linear-gradient(135deg,var(--primary),var(--primary-dark));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;"> ä» 0 åˆ° 1 æ­å»º CI/CDï¼šè®©éƒ¨ç½²åƒæäº¤ä»£ç ä¸€æ ·ç®€å•ï½œè®¾è®¡å›¾è°± </h1> <div class="post-meta"> <time datetime="2025-05-24T16:22:26.000Z">2025/05/24</time> <span class="post-tags"> <a href="/tags/CI-CD/" class="tag">#CI/CD</a><a href="/tags/å·¥ç¨‹åŒ–/" class="tag">#å·¥ç¨‹åŒ–</a> </span> </div> </header> <div class="post-body"> <blockquote>
<p>éƒ¨ç½²åº”è¯¥æ˜¯æµæ°´çº¿ï¼Œè€Œä¸æ˜¯æ‰‹å·¥ä»ªå¼ã€‚</p>
</blockquote>
<!-- more -->
<h2 id="å¼€ç¯‡">å¼€ç¯‡</h2>
<p>è¿™ç¯‡æ–‡ç« é¢å‘å¤šç¯å¢ƒäº¤ä»˜å›¢é˜Ÿï¼Œä»åä½œè§†è§’æ·±å…¥æ‹†è§£ä» 0 åˆ° 1 æ­å»º CI/CDã€‚å½“å‰å®šä½ä¸ºã€Œæ·±æŒ–ã€é˜¶æ®µï¼Œæ ¸å¿ƒç›®æ ‡æ˜¯è§„æ¨¡åŒ–æ¼”è¿›ä¸æˆæœ¬ä¼˜åŒ–ã€‚æˆ‘ä»¬ä¼šä»å®é™…åœºæ™¯å‡ºå‘ï¼Œç»“åˆå…·ä½“ä»£ç ç¤ºä¾‹ï¼ŒæŠŠå…³é”®çŸ¥è¯†ç‚¹æ‹†è§£ä¸ºå¯è½åœ°çš„è¡ŒåŠ¨æ­¥éª¤ã€‚è¡¡é‡æ ‡å‡†ï¼šäº¤ä»˜å‘¨æœŸ/å›æ»šæ¬¡æ•°ã€‚</p>
<h2 id="é—®é¢˜æ‹†è§£">é—®é¢˜æ‹†è§£</h2>
<p>è¿˜è®°å¾—æ‰‹åŠ¨éƒ¨ç½²çš„æ—¥å­å—ï¼ŸSSH ç™»å½•æœåŠ¡å™¨ï¼Œgit pullï¼Œnpm installï¼Œpm2 restartâ€”â€”æ¯æ¬¡éƒ½æå¿ƒåŠèƒ†ï¼Œç”Ÿæ€•æ¼äº†å“ªä¸€æ­¥ã€‚CI/CD çš„æ ¸å¿ƒä»·å€¼ä¸æ˜¯â€è‡ªåŠ¨åŒ–â€æœ¬èº«ï¼Œè€Œæ˜¯â€å¯é‡å¤ã€å¯è¿½æº¯ã€å¯å›æ»šâ€ã€‚å½“éƒ¨ç½²å˜æˆä¸€æ¡æµæ°´çº¿ï¼Œä½ å°±èƒ½æŠŠç²¾åŠ›ä»â€æ€ä¹ˆå‘å¸ƒâ€è½¬ç§»åˆ°â€å‘å¸ƒä»€ä¹ˆâ€ä¸Šã€‚</p>
<p>æ‰‹åŠ¨éƒ¨ç½²æœ‰ä¸‰ä¸ªè‡´å‘½é—®é¢˜ï¼šä¸å¯é‡å¤ï¼ˆæ¯æ¬¡æ“ä½œå¯èƒ½æœ‰ç»†å¾®å·®å¼‚ï¼‰ã€ä¸å¯è¿½æº¯ï¼ˆè°åœ¨ä»€ä¹ˆæ—¶å€™éƒ¨ç½²äº†ä»€ä¹ˆç‰ˆæœ¬ï¼Ÿï¼‰ã€ä¸å¯å›æ»šï¼ˆå‡ºäº†é—®é¢˜åªèƒ½æ‰‹åŠ¨ä¿®å¤ï¼‰ã€‚CI/CD æµæ°´çº¿æŠŠè¿™ä¸‰ä¸ªé—®é¢˜ä¸€æ¬¡æ€§è§£å†³ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œå®ƒé™ä½äº†å‘å¸ƒçš„å¿ƒç†é—¨æ§›â€”â€”å½“ä½ çŸ¥é“éšæ—¶å¯ä»¥å®‰å…¨å›æ»šæ—¶ï¼Œä½ ä¼šæ›´æ„¿æ„é¢‘ç¹å‘å¸ƒå°æ”¹åŠ¨ï¼Œè€Œä¸æ˜¯æ”’ä¸€å¤§å †æ”¹åŠ¨ä¸€æ¬¡æ€§ä¸Šçº¿ã€‚</p>
<h2 id="è§£å†³æ–¹æ¡ˆ">è§£å†³æ–¹æ¡ˆ</h2>
<p>ä¸€æ¡åŸºæœ¬çš„ CI/CD æµæ°´çº¿åŒ…å«ä»¥ä¸‹é˜¶æ®µï¼š</p>
<ol>
<li>ä»£ç æ£€æŸ¥ï¼šESLint/Prettier æ ¼å¼åŒ–æ£€æŸ¥ï¼ŒTypeScript ç±»å‹æ£€æŸ¥ã€‚</li>
<li>è‡ªåŠ¨åŒ–æµ‹è¯•ï¼šå•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ï¼Œç¡®ä¿æ”¹åŠ¨æ²¡æœ‰ç ´åå·²æœ‰åŠŸèƒ½ã€‚</li>
<li>æ„å»ºæ‰“åŒ…ï¼šç”Ÿæˆç”Ÿäº§ç¯å¢ƒäº§ç‰©ï¼Œè®°å½•æ„å»ºç‰ˆæœ¬å·ã€‚</li>
<li>äº§ç‰©å­˜å‚¨ï¼šå°†æ„å»ºäº§ç‰©ä¸Šä¼ åˆ°åˆ¶å“åº“ï¼ˆå¦‚ Docker Registryã€S3ï¼‰ï¼Œç¡®ä¿äº§ç‰©å¯å¤ç”¨ã€‚</li>
<li>éƒ¨ç½²å‘å¸ƒï¼šå°†äº§ç‰©éƒ¨ç½²åˆ°ç›®æ ‡ç¯å¢ƒï¼Œæ”¯æŒç°åº¦å‘å¸ƒå’Œå¿«é€Ÿå›æ»šã€‚</li>
</ol>
<p>ä»¥ GitHub Actions ä¸ºä¾‹ï¼Œä¸€ä¸ªåŸºæœ¬çš„ Node.js é¡¹ç›®æµæ°´çº¿åªéœ€è¦ä¸€ä¸ª YAML æ–‡ä»¶ã€‚å…³é”®æ˜¯æŠŠç¯å¢ƒå·®å¼‚æŠ½è±¡ä¸ºé…ç½®å˜é‡ï¼Œè€Œä¸æ˜¯ç¡¬ç¼–ç åœ¨ä»£ç æˆ–è„šæœ¬ä¸­ã€‚</p>
<h2 id="ä»£ç å®æˆ˜">ä»£ç å®æˆ˜</h2>
<p>åœ¨ä¸šåŠ¡å¢é•¿å¸¦æ¥çš„å®¹é‡å‹åŠ›çš„å®é™…åœºæ™¯ä¸­ï¼Œä¸‹é¢çš„ä»£ç æ¨¡å¼éå¸¸å®ç”¨ï¼š</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="yaml"><code><span class="line"><span style="color:#7F848E;font-style:italic"># .github/workflows/ci.yml</span></span>
<span class="line"><span style="color:#E06C75">name</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">CI/CD Pipeline</span></span>
<span class="line"><span style="color:#D19A66">on</span><span style="color:#ABB2BF">:</span></span>
<span class="line"><span style="color:#E06C75">  push</span><span style="color:#ABB2BF">:</span></span>
<span class="line"><span style="color:#E06C75">    branches</span><span style="color:#ABB2BF">: [</span><span style="color:#98C379">main</span><span style="color:#ABB2BF">]</span></span>
<span class="line"><span style="color:#E06C75">  pull_request</span><span style="color:#ABB2BF">:</span></span>
<span class="line"><span style="color:#E06C75">    branches</span><span style="color:#ABB2BF">: [</span><span style="color:#98C379">main</span><span style="color:#ABB2BF">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E06C75">jobs</span><span style="color:#ABB2BF">:</span></span>
<span class="line"><span style="color:#E06C75">  test</span><span style="color:#ABB2BF">:</span></span>
<span class="line"><span style="color:#E06C75">    runs-on</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">ubuntu-latest</span></span>
<span class="line"><span style="color:#E06C75">    steps</span><span style="color:#ABB2BF">:</span></span>
<span class="line"><span style="color:#ABB2BF">      - </span><span style="color:#E06C75">uses</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">actions/checkout@v4</span></span>
<span class="line"><span style="color:#ABB2BF">      - </span><span style="color:#E06C75">uses</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">actions/setup-node@v4</span></span>
<span class="line"><span style="color:#E06C75">        with</span><span style="color:#ABB2BF">: { </span><span style="color:#E06C75">node-version</span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">20</span><span style="color:#ABB2BF"> }</span></span>
<span class="line"><span style="color:#ABB2BF">      - </span><span style="color:#E06C75">run</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">npm ci</span></span>
<span class="line"><span style="color:#ABB2BF">      - </span><span style="color:#E06C75">run</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">npm run lint</span></span>
<span class="line"><span style="color:#ABB2BF">      - </span><span style="color:#E06C75">run</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">npm test -- --coverage</span></span>
<span class="line"><span style="color:#ABB2BF">      - </span><span style="color:#E06C75">run</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">npm run build</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E06C75">  deploy</span><span style="color:#ABB2BF">:</span></span>
<span class="line"><span style="color:#E06C75">    needs</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">test</span></span>
<span class="line"><span style="color:#E06C75">    if</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">github.ref == 'refs/heads/main'</span></span>
<span class="line"><span style="color:#E06C75">    runs-on</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">ubuntu-latest</span></span>
<span class="line"><span style="color:#E06C75">    steps</span><span style="color:#ABB2BF">:</span></span>
<span class="line"><span style="color:#ABB2BF">      - </span><span style="color:#E06C75">uses</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">actions/checkout@v4</span></span>
<span class="line"><span style="color:#ABB2BF">      - </span><span style="color:#E06C75">run</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">npm ci &#x26;&#x26; npm run build</span></span>
<span class="line"><span style="color:#ABB2BF">      - </span><span style="color:#E06C75">name</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">Deploy to production</span></span>
<span class="line"><span style="color:#E06C75">        run</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">echo "Deploy version $GITHUB_SHA"</span></span></code></pre>
<h2 id="å·¥ç¨‹åŒ–è½åœ°">å·¥ç¨‹åŒ–è½åœ°</h2>
<p>å»ºè®®ä»æœ€å°å¯ç”¨æµæ°´çº¿å¼€å§‹ï¼šä»£ç æ¨é€ â†’ è·‘æµ‹è¯• â†’ è‡ªåŠ¨éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒã€‚ç­‰æµç¨‹ç¨³å®šåï¼Œå†é€æ­¥åŠ å…¥ä»£ç è´¨é‡é—¨ç¦ï¼ˆæµ‹è¯•è¦†ç›–ç‡ã€ä»£ç æ‰«æï¼‰ã€å¤šç¯å¢ƒå‘å¸ƒï¼ˆstaging â†’ productionï¼‰ã€ç°åº¦ç­–ç•¥ç­‰ã€‚æ¯æ¬¡å‘å¸ƒéƒ½åº”è¯¥ç”Ÿæˆä¸€ä¸ªå¯è¿½æº¯çš„ç‰ˆæœ¬å·ï¼Œå¹¶ä¿ç•™è‡³å°‘æœ€è¿‘ 5 ä¸ªç‰ˆæœ¬çš„å›æ»šèƒ½åŠ›ã€‚</p>
<p>å¯¹äºå¤šç¯å¢ƒäº¤ä»˜å›¢é˜Ÿæ¥è¯´ï¼Œå»ºè®®ä»æœ€å°å¯è¡Œæ–¹æ¡ˆå¼€å§‹ï¼Œå…ˆè·‘é€šæ ¸å¿ƒæµç¨‹ï¼Œå†é€æ­¥å®Œå–„è¾¹ç•Œå¤„ç†å’Œç›‘æ§å‘Šè­¦ã€‚ä¸è¦è¯•å›¾ä¸€æ¬¡æ€§åšåˆ°å®Œç¾ï¼Œè§„æ¨¡åŒ–æ¼”è¿›ä¸æˆæœ¬ä¼˜åŒ–æ‰æ˜¯å½“å‰é˜¶æ®µçš„é‡ç‚¹ã€‚</p>
<h2 id="é¿å‘æ¸…å•">é¿å‘æ¸…å•</h2>
<p>å¸¸è§é”™è¯¯åŒ…æ‹¬ï¼šæµæ°´çº¿æ²¡æœ‰è´¨é‡é—¨ç¦ï¼Œæµ‹è¯•ä¸é€šè¿‡ä¹Ÿèƒ½éƒ¨ç½²ï¼›æ„å»ºäº§ç‰©æ²¡æœ‰ç‰ˆæœ¬åŒ–ï¼Œæ— æ³•ç²¾ç¡®å›æ»šï¼›ç¯å¢ƒé…ç½®ç¡¬ç¼–ç åœ¨ä»£ç ä¸­ï¼Œå¯¼è‡´â€åœ¨æˆ‘æœºå™¨ä¸Šèƒ½è·‘â€çš„é—®é¢˜ï¼›ä»¥åŠæµæ°´çº¿æ‰§è¡Œæ—¶é—´è¿‡é•¿ï¼ˆè¶…è¿‡ 10 åˆ†é’Ÿï¼‰ï¼Œå¯¼è‡´å¼€å‘è€…ä¸æ„¿æ„ç­‰å¾…è€Œç»•è¿‡æµç¨‹ã€‚</p>
<h2 id="æ€»ç»“ä¸å±•æœ›">æ€»ç»“ä¸å±•æœ›</h2>
<p>æœ¬æ–‡ä»åä½œè§†è§’æ¢³ç†äº†ä» 0 åˆ° 1 æ­å»º CI/CDåœ¨æ·±æŒ–é˜¶æ®µçš„å…³é”®å®è·µã€‚æ ¸å¿ƒæŒ‡æ ‡æ˜¯äº¤ä»˜å‘¨æœŸ/å›æ»šæ¬¡æ•°ï¼Œæœ€å¤§é£é™©æ˜¯è§„èŒƒç¼ºå¤±é€ æˆè¿”å·¥ã€‚å¸Œæœ›è¿™äº›ç»éªŒèƒ½å¸®ä½ å°‘èµ°å¼¯è·¯ï¼Œåœ¨ä¸šåŠ¡å¢é•¿å¸¦æ¥çš„å®¹é‡å‹åŠ›ä¸­æ›´ä»å®¹åœ°æ¨è¿›ã€‚</p> </div> </article>  <div id="gitalk-container" data-id="2025-05-24-ä»-0-åˆ°-1-æ­å»º-ci-cd-è®©éƒ¨ç½²åƒæäº¤ä»£ç ä¸€æ ·ç®€å•-è®¾è®¡å›¾è°±" data-title="ä» 0 åˆ° 1 æ­å»º CI/CDï¼šè®©éƒ¨ç½²åƒæäº¤ä»£ç ä¸€æ ·ç®€å•ï½œè®¾è®¡å›¾è°±"></div> <script type="module" src="/_astro/Gitalk.astro_astro_type_script_index_0_lang.Cal0MJAU.js"></script>   <footer class="site-footer"> <div class="footer-inner"> <span>Â© 2019â€“2026 Keven</span> <span class="heart">â¤ï¸</span> <span>Powered by <a href="https://astro.build" target="_blank" rel="noopener">Astro</a></span> </div> <div class="visitor-stats"> <span id="busuanzi_container_site_pv">
ğŸ‘€ æ€»è®¿é—®é‡ <span id="busuanzi_value_site_pv">-</span> æ¬¡
</span> <span id="busuanzi_container_site_uv">
ğŸ‘¤ è®¿å®¢æ•° <span id="busuanzi_value_site_uv">-</span> äºº
</span> </div> </footer> </main> </div> </div> <button class="back-to-top" id="back-to-top" aria-label="å›åˆ°é¡¶éƒ¨" title="å›åˆ°é¡¶éƒ¨">â†‘</button> <script type="module">const o=document.getElementById("back-to-top");o&&(window.addEventListener("scroll",()=>{o.classList.toggle("visible",window.scrollY>300)}),o.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}));</script> <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script> <script>(function(){const typingTexts = ["Welcome to my blog ğŸš€","è®°å½•å­¦ä¹ ï¼Œåˆ†äº«æˆé•¿ âœ¨","Code Â· Think Â· Create ğŸ’¡"];

    // é¼ æ ‡ç‚¹å‡»çƒŸèŠ±ç‰¹æ•ˆ
    document.addEventListener('click', function(e) {
      const colors = ['#00f0ff','#b44aff','#ff2d95','#39ff14','#ffe600','#00f0ff'];
      for (let i = 0; i < 12; i++) {
        const dot = document.createElement('div');
        dot.style.cssText = `position:fixed;pointer-events:none;width:6px;height:6px;border-radius:50%;z-index:99999;left:${e.clientX}px;top:${e.clientY}px;background:${colors[Math.floor(Math.random()*colors.length)]}`;
        document.body.appendChild(dot);
        const angle = (Math.PI * 2 / 12) * i;
        const velocity = 60 + Math.random() * 60;
        const dx = Math.cos(angle) * velocity;
        const dy = Math.sin(angle) * velocity;
        const x = e.clientX, y = e.clientY;
        let start = null;
        function anim(ts) {
          if (!start) start = ts;
          const p = (ts - start) / 600;
          if (p >= 1) { dot.remove(); return; }
          dot.style.left = (x + dx * p) + 'px';
          dot.style.top = (y + dy * p + 40 * p * p) + 'px';
          dot.style.opacity = String(1 - p);
          dot.style.transform = `scale(${1 - p * 0.5})`;
          requestAnimationFrame(anim);
        }
        requestAnimationFrame(anim);
      }
    });
    // åŠ¨æ€æ‰“å­—å‰¯æ ‡é¢˜
    const el = document.getElementById('typing-subtitle');
    if (el) {
      const texts = typingTexts;
      let ti = 0, ci = 0, deleting = false;
      function tick() {
        const current = texts[ti];
        if (!deleting) {
          el.textContent = current.substring(0, ci + 1);
          ci++;
          if (ci >= current.length) { deleting = true; setTimeout(tick, 1800); return; }
          setTimeout(tick, 80);
        } else {
          el.textContent = current.substring(0, ci - 1);
          ci--;
          if (ci <= 0) { deleting = false; ti = (ti + 1) % texts.length; setTimeout(tick, 400); return; }
          setTimeout(tick, 40);
        }
      }
      tick();
    }
  })();</script> </body> </html>