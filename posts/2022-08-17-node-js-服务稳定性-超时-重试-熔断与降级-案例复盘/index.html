<!DOCTYPE html><html lang="zh-CN"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="description" content="Technology Stack"><title>Node.js æœåŠ¡ç¨³å®šæ€§ï¼šè¶…æ—¶ã€é‡è¯•ã€ç†”æ–­ä¸é™çº§ï½œæ¡ˆä¾‹å¤ç›˜ | Mystwood</title><link rel="icon" type="image/x-icon" href="/favicon.ico"><link rel="stylesheet" href="/styles/global.css"><link rel="stylesheet" href="/_astro/Gitalk.B4AMVcrv.css">
<style>#gitalk-container{margin-top:60px;padding:20px;background:#0a0e1799;border:1px solid rgba(0,240,255,.2);border-radius:8px}.gt-container{color:#e0e0e0!important}.gt-container .gt-header-textarea{background:#0a0e17cc!important;border:1px solid rgba(0,240,255,.3)!important;color:#e0e0e0!important}.gt-container .gt-header-textarea:focus{border-color:var(--primary)!important;box-shadow:0 0 10px #00f0ff4d!important}.gt-container .gt-btn{background:linear-gradient(135deg,var(--primary),var(--primary-dark))!important;border:none!important;color:#fff!important;transition:all .3s ease!important}.gt-container .gt-btn:hover{box-shadow:0 0 15px #00f0ff80!important;transform:translateY(-2px)}.gt-container .gt-btn-preview{background:#b44aff33!important;border:1px solid rgba(180,74,255,.5)!important;color:var(--secondary)!important}.gt-container .gt-comment-content{background:#0a0e1799!important;border:1px solid rgba(0,240,255,.1)!important;color:#e0e0e0!important}.gt-container .gt-comment-content:hover{box-shadow:0 0 10px #00f0ff33!important}.gt-container a{color:var(--primary)!important}.gt-container a:hover{color:var(--secondary)!important}.gt-container .gt-comment-username{color:var(--primary)!important;font-weight:600!important}.gt-container .gt-comment-date{color:#888!important}.gt-container .gt-svg svg{fill:var(--primary)!important}.gt-container .gt-comment-admin .gt-comment-content{border-left:3px solid var(--primary)!important}
</style></head> <body> <div class="reading-progress" id="reading-progress"></div> <script type="module">const n=document.getElementById("reading-progress");n&&window.addEventListener("scroll",()=>{const e=document.documentElement.scrollHeight-window.innerHeight,t=e>0?window.scrollY/e*100:0;n.style.width=`${t}%`});</script> <div class="layout"> <aside class="sidebar"> <div class="sidebar-inner"> <div class="site-author"> <a href="/"> <img class="avatar" src="/images/header.png" alt="Keven" width="96" height="96"> </a> <h2 class="author-name">Keven</h2> <p class="site-subtitle" id="typing-subtitle"></p> </div> <nav class="site-nav"> <a href="/" class="nav-item"> <span class="nav-icon">ğŸ </span> <span>é¦–é¡µ</span> </a><a href="/archives/" class="nav-item"> <span class="nav-icon">ğŸ“¦</span> <span>å½’æ¡£</span> </a><a href="/tags/" class="nav-item"> <span class="nav-icon">ğŸ·ï¸</span> <span>æ ‡ç­¾</span> </a><a href="/categories/" class="nav-item"> <span class="nav-icon">ğŸ“‚</span> <span>åˆ†ç±»</span> </a><a href="/games/" class="nav-item"> <span class="nav-icon">ğŸ®</span> <span>å°æ¸¸æˆ</span> </a> </nav> <div class="sidebar-footer"> <a href="https://github.com/Kevencaz" target="_blank" rel="noopener" class="github-link">
GitHub â†—
</a> </div> </div> </aside> <div class="main-wrapper"> <main class="main-content">  <article class="post-detail"> <header class="post-header"> <h1 class="post-title" style="background:linear-gradient(135deg,var(--primary),var(--primary-dark));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;"> Node.js æœåŠ¡ç¨³å®šæ€§ï¼šè¶…æ—¶ã€é‡è¯•ã€ç†”æ–­ä¸é™çº§ï½œæ¡ˆä¾‹å¤ç›˜ </h1> <div class="post-meta"> <time datetime="2022-08-17T00:01:22.000Z">2022/08/17</time> <span class="post-tags"> <a href="/tags/Node-js/" class="tag">#Node.js</a><a href="/tags/åç«¯/" class="tag">#åç«¯</a> </span> </div> </header> <div class="post-body"> <blockquote>
<p>ç¨³å®šæ€§ä¸æ˜¯é›¶æ•…éšœï¼Œè€Œæ˜¯â€å¯æ¢å¤â€ã€‚</p>
</blockquote>
<!-- more -->
<h2 id="ä¸ºä»€ä¹ˆè¦å…³æ³¨è¿™ä¸ªè¯é¢˜">ä¸ºä»€ä¹ˆè¦å…³æ³¨è¿™ä¸ªè¯é¢˜</h2>
<p>è¿™ç¯‡æ–‡ç« é¢å‘ç‹¬ç«‹å¼€å‘è€…ï¼Œä»æ€§èƒ½è§†è§’æ·±å…¥æ‹†è§£Node.js æœåŠ¡ç¨³å®šæ€§ã€‚å½“å‰å®šä½ä¸ºã€Œå®æˆ˜ã€é˜¶æ®µï¼Œæ ¸å¿ƒç›®æ ‡æ˜¯é¢å‘çœŸå®æµé‡ä¸å›¢é˜Ÿåä½œã€‚æˆ‘ä»¬ä¼šä»å®é™…åœºæ™¯å‡ºå‘ï¼Œç»“åˆå…·ä½“ä»£ç ç¤ºä¾‹ï¼ŒæŠŠå…³é”®çŸ¥è¯†ç‚¹æ‹†è§£ä¸ºå¯è½åœ°çš„è¡ŒåŠ¨æ­¥éª¤ã€‚è¡¡é‡æ ‡å‡†ï¼šP95/P99 å»¶è¿Ÿã€‚</p>
<p>æ²¡æœ‰è¶…æ—¶çš„å¤–éƒ¨è°ƒç”¨å°±åƒä¸€é¢—å®šæ—¶ç‚¸å¼¹ã€‚å½“ä¸‹æ¸¸æœåŠ¡å“åº”å˜æ…¢æ—¶ï¼Œå¦‚æœè°ƒç”¨æ–¹æ²¡æœ‰è®¾ç½®è¶…æ—¶ï¼Œè¯·æ±‚ä¼šä¸€ç›´æŒ‚ç€ï¼Œå ç”¨è¿æ¥æ± å’Œå†…å­˜ã€‚éšç€å †ç§¯çš„è¯·æ±‚è¶Šæ¥è¶Šå¤šï¼Œè°ƒç”¨æ–¹è‡ªå·±ä¹Ÿä¼šå˜æ…¢ï¼Œæœ€ç»ˆæ•´æ¡é“¾è·¯ç˜«ç—ªã€‚è¿™å°±æ˜¯æ‰€è°“çš„â€çº§è”æ•…éšœâ€ã€‚è¶…æ—¶æ˜¯æœ€åŸºæœ¬çš„è‡ªæˆ‘ä¿æŠ¤æœºåˆ¶ï¼Œé‡è¯•æ˜¯å®¹é”™æ‰‹æ®µï¼Œç†”æ–­æ˜¯å¿«é€Ÿå¤±è´¥ç­–ç•¥ï¼Œé™çº§æ˜¯ä¿æ ¸å¿ƒæ”¾éæ ¸å¿ƒçš„å–èˆã€‚</p>
<h2 id="èƒŒæ™¯ä¸é—®é¢˜">èƒŒæ™¯ä¸é—®é¢˜</h2>
<p>åœ¨å¾®æœåŠ¡æ¶æ„ä¸‹ï¼Œä¸€ä¸ªè¯·æ±‚å¯èƒ½ç»è¿‡ 5-10 ä¸ªæœåŠ¡èŠ‚ç‚¹ã€‚ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹çš„æŠ–åŠ¨éƒ½å¯èƒ½å¼•å‘è¿é”ååº”ï¼šä¸‹æ¸¸è¶…æ—¶ â†’ ä¸Šæ¸¸çº¿ç¨‹å †ç§¯ â†’ æ•´ä¸ªé“¾è·¯é›ªå´©ã€‚ç¨³å®šæ€§å·¥ç¨‹çš„æ ¸å¿ƒä¸æ˜¯â€æ¶ˆç­æ•…éšœâ€ï¼ˆè¿™ä¸ç°å®ï¼‰ï¼Œè€Œæ˜¯â€æ§åˆ¶æ•…éšœçš„å½±å“èŒƒå›´â€å’Œâ€ç¼©çŸ­æ¢å¤æ—¶é—´â€ã€‚è¶…æ—¶ã€é‡è¯•ã€ç†”æ–­ã€é™çº§æ˜¯å››ä¸ªæœ€åŸºæœ¬çš„ç¨³å®šæ€§æ‰‹æ®µã€‚</p>
<p>åœ¨ã€Œä» 0 åˆ° 1 çš„æ–°é¡¹ç›®ã€è¿™ä¸ªé˜¶æ®µï¼Œæ€§èƒ½é—®é¢˜å°¤ä¸ºçªå‡ºã€‚åªä¼˜åŒ–å±€éƒ¨å¯¼è‡´ç“¶é¢ˆè¿ç§»æ˜¯æœ€å®¹æ˜“è¸©çš„å‘ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå»ºç«‹æ­£ç¡®çš„åº¦é‡ä½“ç³»ï¼Œå†é€æ­¥ä¼˜åŒ–ã€‚</p>
<h2 id="æ–¹æ³•è®ºä¸å®è·µè·¯å¾„">æ–¹æ³•è®ºä¸å®è·µè·¯å¾„</h2>
<p>è¶…æ—¶è®¾ç½®çš„åŸåˆ™æ˜¯ï¼šæ¯”ä¸‹æ¸¸çš„ P99 å“åº”æ—¶é—´ç¨å¤§ï¼Œä½†ä¸èƒ½å¤ªå¤§ã€‚æ¯”å¦‚ä¸‹æ¸¸ P99 æ˜¯ 800msï¼Œè¶…æ—¶å¯ä»¥è®¾ 1.5sã€‚å¤ªçŸ­ä¼šå¯¼è‡´æ­£å¸¸è¯·æ±‚è¢«è¯¯æ€ï¼Œå¤ªé•¿èµ·ä¸åˆ°ä¿æŠ¤ä½œç”¨ã€‚</p>
<p>é‡è¯•è¦æœ‰é™åˆ¶ï¼šæœ€å¤šé‡è¯• 1-2 æ¬¡ï¼Œä¸”åªå¯¹å¯é‡è¯•çš„é”™è¯¯ï¼ˆç½‘ç»œè¶…æ—¶ã€5xxï¼‰é‡è¯•ï¼Œä¸è¦å¯¹ 4xx é‡è¯•ã€‚é‡è¯•é—´éš”ä½¿ç”¨æŒ‡æ•°é€€é¿ï¼ˆexponential backoffï¼‰åŠ éšæœºæŠ–åŠ¨ï¼ˆjitterï¼‰ï¼Œé¿å…é‡è¯•é£æš´ã€‚</p>
<p>ç†”æ–­å™¨ï¼ˆCircuit Breakerï¼‰æœ‰ä¸‰ä¸ªçŠ¶æ€ï¼šå…³é—­ï¼ˆæ­£å¸¸é€šè¡Œï¼‰ã€æ‰“å¼€ï¼ˆå¿«é€Ÿå¤±è´¥ï¼‰ã€åŠå¼€ï¼ˆè¯•æ¢æ¢å¤ï¼‰ã€‚å½“é”™è¯¯ç‡è¶…è¿‡é˜ˆå€¼æ—¶ç†”æ–­å™¨æ‰“å¼€ï¼Œæ‰€æœ‰è¯·æ±‚ç›´æ¥è¿”å›é™çº§ç»“æœï¼Œä¸å†è°ƒç”¨ä¸‹æ¸¸ã€‚ä¸€æ®µæ—¶é—´åè¿›å…¥åŠå¼€çŠ¶æ€ï¼Œæ”¾å°‘é‡è¯·æ±‚è¯•æ¢ï¼Œå¦‚æœæˆåŠŸåˆ™æ¢å¤ï¼Œå¦åˆ™ç»§ç»­ç†”æ–­ã€‚</p>
<p>é™çº§æ˜¯ä¸šåŠ¡å±‚é¢çš„å–èˆï¼šæ ¸å¿ƒåŠŸèƒ½ä¿è¯å¯ç”¨ï¼Œéæ ¸å¿ƒåŠŸèƒ½åœ¨å‹åŠ›å¤§æ—¶ä¸»åŠ¨å…³é—­ã€‚æ¯”å¦‚å•†å“è¯¦æƒ…é¡µï¼Œä»·æ ¼å’Œåº“å­˜æ˜¯æ ¸å¿ƒï¼Œæ¨èå’Œè¯„è®ºæ˜¯éæ ¸å¿ƒï¼Œå¯ä»¥åœ¨é«˜å³°æœŸé™çº§ã€‚</p>
<h2 id="ä»£ç ç¤ºä¾‹">ä»£ç ç¤ºä¾‹</h2>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªå¯ä»¥ç›´æ¥å‚è€ƒçš„å®æˆ˜çº§åˆ«ç¤ºä¾‹ï¼š</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="js"><code><span class="line"><span style="color:#7F848E;font-style:italic">// å¸¦è¶…æ—¶çš„ fetch å°è£…</span></span>
<span class="line"><span style="color:#C678DD">async</span><span style="color:#C678DD"> function</span><span style="color:#61AFEF"> fetchWithTimeout</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75;font-style:italic">url</span><span style="color:#ABB2BF">, </span><span style="color:#E06C75;font-style:italic">options</span><span style="color:#56B6C2"> =</span><span style="color:#ABB2BF"> {}, </span><span style="color:#E06C75;font-style:italic">timeout</span><span style="color:#56B6C2"> =</span><span style="color:#D19A66"> 3000</span><span style="color:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#C678DD">  const</span><span style="color:#E5C07B"> controller</span><span style="color:#56B6C2"> =</span><span style="color:#C678DD"> new</span><span style="color:#61AFEF"> AbortController</span><span style="color:#ABB2BF">();</span></span>
<span class="line"><span style="color:#C678DD">  const</span><span style="color:#E5C07B"> timer</span><span style="color:#56B6C2"> =</span><span style="color:#61AFEF"> setTimeout</span><span style="color:#ABB2BF">(() </span><span style="color:#C678DD">=></span><span style="color:#E5C07B"> controller</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">abort</span><span style="color:#ABB2BF">(), </span><span style="color:#E06C75">timeout</span><span style="color:#ABB2BF">);</span></span>
<span class="line"><span style="color:#C678DD">  try</span><span style="color:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#C678DD">    const</span><span style="color:#E5C07B"> res</span><span style="color:#56B6C2"> =</span><span style="color:#C678DD"> await</span><span style="color:#61AFEF"> fetch</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75">url</span><span style="color:#ABB2BF">, {</span></span>
<span class="line"><span style="color:#ABB2BF">      ...</span><span style="color:#E06C75">options</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E06C75">      signal</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">controller</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">signal</span></span>
<span class="line"><span style="color:#ABB2BF">    });</span></span>
<span class="line"><span style="color:#C678DD">    return</span><span style="color:#E06C75"> res</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#ABB2BF">  } </span><span style="color:#C678DD">finally</span><span style="color:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#61AFEF">    clearTimeout</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75">timer</span><span style="color:#ABB2BF">);</span></span>
<span class="line"><span style="color:#ABB2BF">  }</span></span>
<span class="line"><span style="color:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic">// å¸¦é‡è¯•çš„è°ƒç”¨ï¼ˆæŒ‡æ•°é€€é¿ + æŠ–åŠ¨ï¼‰</span></span>
<span class="line"><span style="color:#C678DD">async</span><span style="color:#C678DD"> function</span><span style="color:#61AFEF"> fetchWithRetry</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75;font-style:italic">url</span><span style="color:#ABB2BF">, </span><span style="color:#E06C75;font-style:italic">maxRetries</span><span style="color:#56B6C2"> =</span><span style="color:#D19A66"> 2</span><span style="color:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#C678DD">  for</span><span style="color:#ABB2BF"> (</span><span style="color:#C678DD">let</span><span style="color:#E06C75"> i</span><span style="color:#56B6C2"> =</span><span style="color:#D19A66"> 0</span><span style="color:#ABB2BF">; </span><span style="color:#E06C75">i</span><span style="color:#56B6C2"> &#x3C;=</span><span style="color:#E06C75"> maxRetries</span><span style="color:#ABB2BF">; </span><span style="color:#E06C75">i</span><span style="color:#56B6C2">++</span><span style="color:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#C678DD">    try</span><span style="color:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#C678DD">      return</span><span style="color:#C678DD"> await</span><span style="color:#61AFEF"> fetchWithTimeout</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75">url</span><span style="color:#ABB2BF">);</span></span>
<span class="line"><span style="color:#ABB2BF">    } </span><span style="color:#C678DD">catch</span><span style="color:#ABB2BF"> (</span><span style="color:#E06C75">err</span><span style="color:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#C678DD">      if</span><span style="color:#ABB2BF"> (</span><span style="color:#E06C75">i</span><span style="color:#56B6C2"> ===</span><span style="color:#E06C75"> maxRetries</span><span style="color:#ABB2BF">) </span><span style="color:#C678DD">throw</span><span style="color:#E06C75"> err</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#C678DD">      const</span><span style="color:#E5C07B"> delay</span><span style="color:#56B6C2"> =</span><span style="color:#E5C07B"> Math</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">min</span><span style="color:#ABB2BF">(</span><span style="color:#D19A66">1000</span><span style="color:#56B6C2"> *</span><span style="color:#D19A66"> 2</span><span style="color:#56B6C2"> **</span><span style="color:#E06C75"> i</span><span style="color:#ABB2BF">, </span><span style="color:#D19A66">5000</span><span style="color:#ABB2BF">);</span></span>
<span class="line"><span style="color:#C678DD">      const</span><span style="color:#E5C07B"> jitter</span><span style="color:#56B6C2"> =</span><span style="color:#E06C75"> delay</span><span style="color:#56B6C2"> *</span><span style="color:#D19A66"> 0.2</span><span style="color:#56B6C2"> *</span><span style="color:#E5C07B"> Math</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">random</span><span style="color:#ABB2BF">();</span></span>
<span class="line"><span style="color:#C678DD">      await</span><span style="color:#C678DD"> new</span><span style="color:#E5C07B"> Promise</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75;font-style:italic">r</span><span style="color:#C678DD"> =></span><span style="color:#61AFEF"> setTimeout</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75">r</span><span style="color:#ABB2BF">, </span><span style="color:#E06C75">delay</span><span style="color:#56B6C2"> +</span><span style="color:#E06C75"> jitter</span><span style="color:#ABB2BF">));</span></span>
<span class="line"><span style="color:#ABB2BF">    }</span></span>
<span class="line"><span style="color:#ABB2BF">  }</span></span>
<span class="line"><span style="color:#ABB2BF">}</span></span></code></pre>
<h2 id="è½åœ°å»ºè®®">è½åœ°å»ºè®®</h2>
<p>Node.js ä¸­å¯ä»¥ç”¨ AbortController å®ç°è¯·æ±‚è¶…æ—¶ï¼Œç”¨ p-retry åº“åšé‡è¯•ï¼Œç”¨ opossum åº“å®ç°ç†”æ–­å™¨ã€‚å»ºè®®ä¸ºæ¯ä¸ªå¤–éƒ¨ä¾èµ–ï¼ˆæ•°æ®åº“ã€Redisã€ç¬¬ä¸‰æ–¹ APIï¼‰éƒ½é…ç½®ç‹¬ç«‹çš„è¶…æ—¶å’Œç†”æ–­ç­–ç•¥ã€‚ç›‘æ§æ–¹é¢ï¼Œé‡ç‚¹å…³æ³¨è¶…æ—¶ç‡ã€é‡è¯•ç‡ã€ç†”æ–­è§¦å‘æ¬¡æ•°ï¼Œè¿™äº›æ˜¯ç³»ç»Ÿå¥åº·åº¦çš„å…ˆè¡ŒæŒ‡æ ‡ã€‚</p>
<h2 id="å¸¸è§è¯¯åŒºä¸é¿å‘æŒ‡å—">å¸¸è§è¯¯åŒºä¸é¿å‘æŒ‡å—</h2>
<p>æœ€å±é™©çš„é”™è¯¯æ˜¯æ²¡æœ‰è®¾ç½®è¶…æ—¶â€”â€”è¿™åœ¨ Node.js ä¸­å°¤å…¶è‡´å‘½ï¼Œå› ä¸ºå•çº¿ç¨‹æ¨¡å‹ä¸‹ä¸€ä¸ªæ…¢è¯·æ±‚å°±èƒ½é˜»å¡æ•´ä¸ªäº‹ä»¶å¾ªç¯ã€‚å…¶æ¬¡æ˜¯æ— é™é‡è¯•ï¼Œè¿™ä¼šåœ¨ä¸‹æ¸¸æ•…éšœæ—¶æˆå€æ”¾å¤§æµé‡ï¼ŒåŠ é€Ÿé›ªå´©ã€‚è¿˜æœ‰ä¸€ç§å¸¸è§é—®é¢˜æ˜¯é™çº§é€»è¾‘å’Œæ­£å¸¸é€»è¾‘è€¦åˆå¤ªæ·±ï¼Œå¯¼è‡´é™çº§æœ¬èº«ä¹Ÿå¯èƒ½å‡ºé”™ã€‚</p>
<h2 id="å°ç»“">å°ç»“</h2>
<p>Node.js æœåŠ¡ç¨³å®šæ€§çš„å®æˆ˜é˜¶æ®µï¼Œæ ¸å¿ƒæ˜¯é¢å‘çœŸå®æµé‡ä¸å›¢é˜Ÿåä½œã€‚ä»æ€§èƒ½è§’åº¦å‡ºå‘ï¼Œå…³æ³¨P95/P99 å»¶è¿Ÿï¼Œé¿å…åªä¼˜åŒ–å±€éƒ¨å¯¼è‡´ç“¶é¢ˆè¿ç§»ã€‚æŠŠä¸Šé¢çš„å®è·µæ¸…å•é€é¡¹è½åœ°ï¼Œä½ ä¼šå‘ç°æ•ˆæœæ¯”æƒ³è±¡ä¸­æ¥å¾—å¿«ã€‚</p> </div> </article>  <div id="gitalk-container" data-id="2022-08-17-node-js-æœåŠ¡ç¨³å®šæ€§-è¶…æ—¶-é‡è¯•-ç†”æ–­ä¸é™çº§-æ¡ˆä¾‹å¤ç›˜" data-title="Node.js æœåŠ¡ç¨³å®šæ€§ï¼šè¶…æ—¶ã€é‡è¯•ã€ç†”æ–­ä¸é™çº§ï½œæ¡ˆä¾‹å¤ç›˜"></div> <script type="module" src="/_astro/Gitalk.astro_astro_type_script_index_0_lang.Cal0MJAU.js"></script>   <footer class="site-footer"> <div class="footer-inner"> <span>Â© 2019â€“2026 Keven</span> <span class="heart">â¤ï¸</span> <span>Powered by <a href="https://astro.build" target="_blank" rel="noopener">Astro</a></span> </div> <div class="visitor-stats"> <span id="busuanzi_container_site_pv">
ğŸ‘€ æ€»è®¿é—®é‡ <span id="busuanzi_value_site_pv">-</span> æ¬¡
</span> <span id="busuanzi_container_site_uv">
ğŸ‘¤ è®¿å®¢æ•° <span id="busuanzi_value_site_uv">-</span> äºº
</span> </div> </footer> </main> </div> </div> <button class="back-to-top" id="back-to-top" aria-label="å›åˆ°é¡¶éƒ¨" title="å›åˆ°é¡¶éƒ¨">â†‘</button> <script type="module">const o=document.getElementById("back-to-top");o&&(window.addEventListener("scroll",()=>{o.classList.toggle("visible",window.scrollY>300)}),o.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}));</script> <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script> <script>(function(){const typingTexts = ["Welcome to my blog ğŸš€","è®°å½•å­¦ä¹ ï¼Œåˆ†äº«æˆé•¿ âœ¨","Code Â· Think Â· Create ğŸ’¡"];

    // é¼ æ ‡ç‚¹å‡»çƒŸèŠ±ç‰¹æ•ˆ
    document.addEventListener('click', function(e) {
      const colors = ['#00f0ff','#b44aff','#ff2d95','#39ff14','#ffe600','#00f0ff'];
      for (let i = 0; i < 12; i++) {
        const dot = document.createElement('div');
        dot.style.cssText = `position:fixed;pointer-events:none;width:6px;height:6px;border-radius:50%;z-index:99999;left:${e.clientX}px;top:${e.clientY}px;background:${colors[Math.floor(Math.random()*colors.length)]}`;
        document.body.appendChild(dot);
        const angle = (Math.PI * 2 / 12) * i;
        const velocity = 60 + Math.random() * 60;
        const dx = Math.cos(angle) * velocity;
        const dy = Math.sin(angle) * velocity;
        const x = e.clientX, y = e.clientY;
        let start = null;
        function anim(ts) {
          if (!start) start = ts;
          const p = (ts - start) / 600;
          if (p >= 1) { dot.remove(); return; }
          dot.style.left = (x + dx * p) + 'px';
          dot.style.top = (y + dy * p + 40 * p * p) + 'px';
          dot.style.opacity = String(1 - p);
          dot.style.transform = `scale(${1 - p * 0.5})`;
          requestAnimationFrame(anim);
        }
        requestAnimationFrame(anim);
      }
    });
    // åŠ¨æ€æ‰“å­—å‰¯æ ‡é¢˜
    const el = document.getElementById('typing-subtitle');
    if (el) {
      const texts = typingTexts;
      let ti = 0, ci = 0, deleting = false;
      function tick() {
        const current = texts[ti];
        if (!deleting) {
          el.textContent = current.substring(0, ci + 1);
          ci++;
          if (ci >= current.length) { deleting = true; setTimeout(tick, 1800); return; }
          setTimeout(tick, 80);
        } else {
          el.textContent = current.substring(0, ci - 1);
          ci--;
          if (ci <= 0) { deleting = false; ti = (ti + 1) % texts.length; setTimeout(tick, 400); return; }
          setTimeout(tick, 40);
        }
      }
      tick();
    }
  })();</script> </body> </html>